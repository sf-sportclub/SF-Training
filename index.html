<!DOCTYPE html>
<html lang="th">
<head>
    <base target="_top">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SF Sport club Run Challenge 2025 (‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà)</title>
    <!-- Tailwind CSS CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <!-- Sweet Alert CDN for notifications -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        /* Custom styles for scrollbar and font */
        ::-webkit-scrollbar {
            width: 8px;
            background-color: #f0f4f8;
        }
        ::-webkit-scrollbar-thumb {
            background-color: #94a3b8;
            border-radius: 10px;
            border: 2px solid #f0f4f8;
        }
        ::-webkit-scrollbar-thumb:hover {
            background-color: #64748b;
        }
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Increase font size for form inputs on mobile */
        input[type="text"],
        input[type="date"],
        input[type="number"],
        select,
        textarea {
            font-size: 1rem;
            padding: 0.75rem 1rem;
        }
        @media (min-width: 640px) {
            input[type="text"],
            input[type="date"],
            input[type="number"],
            select,
            textarea {
                font-size: 0.875rem;
                padding: 0.5rem 0.75rem;
            }
        }
    </style>
</head>
<body class="bg-[url('https://firebasestorage.googleapis.com/v0/b/pichayut-40dd2.firebasestorage.app/o/painting-mountain-lake-with-mountain-background.jpg?alt=media&token=c15af5c2-411e-4249-88f6-057d956b1238')] bg-cover bg-center bg-fixed flex flex-col min-h-screen">
    <div class="flex-grow container mx-auto p-4 sm:p-6 lg:p-8">
        <div class="max-w-xl mx-auto bg-white bg-opacity-90 rounded-3xl shadow-xl p-6 sm:p-8">
            <h1 class="text-3xl sm:text-4xl font-extrabold text-center text-slate-800 mb-2">
                SF Sport club Run Challenge 2025 (‡∏™‡∏≥‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡πÉ‡∏´‡∏ç‡πà)
            </h1>
            <p class="text-center text-slate-500 mb-8">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πà‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å</p>
            
            <button id="showRulesBtn" class="w-full flex justify-center py-3 px-4 mb-6 border border-transparent rounded-xl shadow-sm text-base font-bold text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200">
                üìú ‡∏≠‡πà‡∏≤‡∏ô‡∏Å‡∏é‡πÅ‡∏•‡∏∞‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡πà‡∏≠‡∏ô‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πà‡∏á üèÉ‚Äç‚ôÇÔ∏è
            </button>

            <form id="runChallengeForm" class="space-y-6">
                <!-- 1. ‡∏ó‡∏µ‡∏° -->
                <div>
                    <label for="teamName" class="block font-medium text-slate-700">‡∏ó‡∏µ‡∏°</label>
                    <select id="teamName" name="teamName" required class="mt-1 block w-full px-3 py-2 border border-slate-300 rounded-xl shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                        <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏µ‡∏° --</option>
                        <option value="‡∏ó‡∏µ‡∏° ‡∏ü‡∏≤‡πÜ">‡∏ó‡∏µ‡∏° ‡∏ü‡∏≤‡πÜ</option>
                        <option value="‡∏ó‡∏µ‡∏°‡∏°‡∏≤‡πÜ">‡∏ó‡∏µ‡∏°‡∏°‡∏≤‡πÜ</option>
                        <option value="‡∏ó‡∏µ‡∏°‡πÄ‡∏à‡πÜ‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å">‡∏ó‡∏µ‡∏°‡πÄ‡∏à‡πÜ‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å</option>
                    </select>
                </div>

                <!-- 2. ‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• (‡∏ú‡∏π‡πâ‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ß‡∏¥‡πà‡∏á) -->
                <div>
                    <label for="fullName" class="block font-medium text-slate-700">‡∏ä‡∏∑‡πà‡∏≠-‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• (‡∏ú‡∏π‡πâ‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ß‡∏¥‡πà‡∏á)</label>
                    <input type="text" id="fullName" name="fullName" required class="mt-1 block w-full px-3 py-2 border border-slate-300 rounded-xl shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                </div>
                
                <!-- 3. ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏¥‡πà‡∏á -->
                <div>
                    <label for="runningDate" class="block font-medium text-slate-700">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏¥‡πà‡∏á</label>
                    <input type="date" id="runningDate" name="runningDate" required class="mt-1 block w-full px-3 py-2 border border-slate-300 rounded-xl shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                </div>
                <!-- 4. ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ß‡∏¥‡πà‡∏á (‡∏Å‡∏¥‡πÇ‡∏•‡πÄ‡∏°‡∏ï‡∏£) -->
                <div>
                    <label for="distance" class="block font-medium text-slate-700">‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ß‡∏¥‡πà‡∏á (‡∏Å‡∏¥‡πÇ‡∏•‡πÄ‡∏°‡∏ï‡∏£)</label>
                    <input type="number" id="distance" name="distance" step="0.01" min="0" required class="mt-1 block w-full px-3 py-2 border border-slate-300 rounded-xl shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500">
                </div>
                
                <!-- 5. ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏†‡∏≤‡∏û -->
                <div>
                    <label for="imageProof" class="block font-medium text-slate-700">‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏†‡∏≤‡∏û <span class="text-red-500">*</span></label>
                    <p class="text-sm text-slate-500 mt-1 mb-2">‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á / ‡πÄ‡∏ß‡∏•‡∏≤ / ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô</p>
                    <input type="file" id="imageProof" name="imageProof" accept="image/*" required class="mt-1 block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100">
                    <div id="imagePreviewContainer" class="mt-4 hidden">
                        <p class="font-medium text-slate-700 mb-2">‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î:</p>
                        <img id="imagePreview" src="#" alt="Image Proof Preview" class="w-full h-auto max-h-64 object-contain rounded-xl shadow-md">
                    </div>
                </div>

                <!-- 6. ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ) -->
                <div>
                    <label for="notes" class="block font-medium text-slate-700">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</label>
                    <textarea id="notes" name="notes" rows="3" class="mt-1 block w-full px-3 py-2 border border-slate-300 rounded-xl shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500"></textarea>
                </div>

                <div>
                    <button type="submit" id="submitBtn" class="w-full flex justify-center py-3 px-4 border border-transparent rounded-xl shadow-sm text-base font-bold text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200">
                        ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏ß‡∏¥‡πà‡∏á
                    </button>
                </div>
            </form>
        </div>
    </div>
    <footer class="bg-white bg-opacity-90 text-center p-4 shadow-inner text-slate-500 text-sm mt-8">
        ¬© Copyright <span id="currentYear"></span>, SF Sport club
    </footer>
    
    <script>
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        const form = document.getElementById('runChallengeForm');
        const submitBtn = document.getElementById('submitBtn');
        const imageInput = document.getElementById('imageProof');
        const imagePreview = document.getElementById('imagePreview');
        const imagePreviewContainer = document.getElementById('imagePreviewContainer');
        const showRulesBtn = document.getElementById('showRulesBtn');

        const rulesContent = `
            <div class="text-left text-slate-700 leading-relaxed p-4">
                <h2 class="text-xl sm:text-2xl font-extrabold text-center text-slate-800 mb-4">
                    ‡∏Å‡∏é‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô
                </h2>

                <div>
                    <h3 class="text-lg font-bold text-blue-700 mb-2">1. ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</h3>
                    <ul class="list-disc list-inside space-y-1">
                        <li>‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡∏∞‡∏™‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà: ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1 ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô ‚Äì 30 ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô 2568</li>
                        <li>‡∏£‡∏ß‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤: 5 ‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå</li>
                        <li>‡∏õ‡∏¥‡∏î‡∏£‡∏±‡∏ö‡∏ú‡∏•: ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 30 ‡∏Å‡∏±‡∏ô‡∏¢‡∏≤‡∏¢‡∏ô ‡πÄ‡∏ß‡∏•‡∏≤ 23:59 ‡∏ô.</li>
                    </ul>
                </div>
                <div class="border-t border-slate-200 pt-4 mt-4">
                    <h3 class="text-lg font-bold text-blue-700 mb-2">2. ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏ö‡∏ú‡∏•</h3>
                    <ul class="list-disc list-inside space-y-1">
                        <li>‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏¥‡πà‡∏á‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢‡∏à‡∏£‡∏¥‡∏á ‡πÑ‡∏°‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏î‡∏ó‡∏µ‡πà‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°</li>
                        <li>‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ‡∏à‡∏±‡∏Å‡∏£‡∏¢‡∏≤‡∏ô ‡∏™‡∏Å‡∏π‡πä‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡πå ‡∏£‡∏ñ‡∏¢‡∏ô‡∏ï‡πå ‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏∑‡πà‡∏ô ‡πÜ ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á</li>
                    </ul>
                </div>
                <div class="border-t border-slate-200 pt-4 mt-4">
                    <h3 class="text-lg font-bold text-blue-700 mb-2">3. ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</h3>
                    <ul class="list-disc list-inside space-y-1">
                        <li>‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏†‡∏≤‡∏û‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ (‡πÅ‡∏Ñ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠) ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πà‡∏á‡∏à‡∏≤‡∏Å‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</li>
                        <li>‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡∏∞‡πÅ‡∏ô‡∏ö‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏ú‡πà‡∏≤‡∏ô Google Form ‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î</li>
                        <li>‡∏Å‡∏≤‡∏£‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ß‡∏¥‡πà‡∏á‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 2 ‡∏ß‡∏±‡∏ô ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏¥‡πà‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à</li>
                    </ul>
                </div>
                <div class="border-t border-slate-200 pt-4 mt-4">
                    <h3 class="text-lg font-bold text-blue-700 mb-2">4. ‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πà‡∏á</h3>
                    <p>‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î <b>‡∏†‡∏≤‡∏û‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏à‡∏≤‡∏Å‡πÅ‡∏≠‡∏õ‡∏û‡∏•‡∏¥‡πÄ‡∏Ñ‡∏ä‡∏±‡∏ô‡∏ß‡∏¥‡πà‡∏á</b> (Huawei Health, adidas Running: Run Tracker, Apple Health, Fitbit, Garmin Connect, Nike Run Club)</p>
                    <p class="font-semibold mt-2">‡∏†‡∏≤‡∏û‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏î‡∏±‡∏á‡∏ô‡∏µ‡πâ:</p>
                    <ul class="list-disc list-inside space-y-1 ml-4">
                        <li>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ß‡∏¥‡πà‡∏á</li>
                        <li>‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á</li>
                        <li>‡πÄ‡∏ß‡∏•‡∏≤</li>
                        <li>‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á (GPS Map ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</li>
                    </ul>
                    <p class="mt-2 text-sm italic text-slate-500">*‡∏Å‡∏£‡∏ì‡∏µ‡πÉ‡∏ä‡πâ‡πÅ‡∏≠‡∏õ‡∏≠‡∏∑‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö ‡πÉ‡∏´‡πâ‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ö‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</p>
                </div>
                <div class="border-t border-slate-200 pt-4 mt-4">
                    <h3 class="text-lg font-bold text-blue-700 mb-2">5. ‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</h3>
                    <p>‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏£‡∏µ‡∏¢‡∏Å‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡πÄ‡∏ä‡πà‡∏ô:</p>
                    <ul class="list-disc list-inside space-y-1 ml-4">
                        <li>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πà‡∏á‡πÉ‡∏ô‡πÅ‡∏≠‡∏õ</li>
                        <li>Screenshot ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</li>
                        <li>‡∏´‡∏≤‡∏Å‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô‡πÑ‡∏°‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏™‡∏á‡∏™‡∏±‡∏¢ ‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô‡∏≠‡∏≤‡∏à‡∏Ç‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡πÅ‡∏•‡∏∞‡∏Ç‡∏≠‡∏™‡∏á‡∏ß‡∏ô‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÑ‡∏°‡πà‡∏ô‡∏±‡∏ö‡∏ú‡∏•‡∏ß‡∏¥‡πà‡∏á‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÑ‡∏î‡πâ</li>
                    </ul>
                </div>
                <div class="border-t border-slate-200 pt-4 mt-4">
                    <h3 class="text-lg font-bold text-blue-700 mb-2">6. ‡∏û‡∏§‡∏ï‡∏¥‡∏Å‡∏£‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤ ‚Äú‡πÇ‡∏Å‡∏á‚Äù</h3>
                    <ul class="list-disc list-inside space-y-1">
                        <li>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡∏ï‡∏±‡∏î‡∏ï‡πà‡∏≠‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏´‡∏•‡∏±‡∏Å‡∏ê‡∏≤‡∏ô</li>
                        <li>‡πÉ‡∏ä‡πâ‡∏¢‡∏≤‡∏ô‡∏û‡∏≤‡∏´‡∏ô‡∏∞‡∏´‡∏£‡∏∑‡∏≠‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏∑‡πà‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á</li>
                        <li>‡πÉ‡∏ä‡πâ‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á</li>
                        <li>‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ß‡∏¥‡πà‡∏á‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏≠‡∏∑‡πà‡∏ô‡∏°‡∏≤‡πÅ‡∏ó‡∏ô</li>
                    </ul>
                </div>
                <div class="border-t border-slate-200 pt-4 mt-4">
                    <h3 class="text-lg font-bold text-blue-700 mb-2">7. ‡∏ö‡∏ó‡∏•‡∏á‡πÇ‡∏ó‡∏©</h3>
                    <ul class="list-disc list-inside space-y-1">
                        <li>‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å‡∏ú‡∏•‡∏ß‡∏¥‡πà‡∏á‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏î‡∏±‡∏á‡∏Å‡∏•‡πà‡∏≤‡∏ß</li>
                        <li>‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏™‡∏∞‡∏™‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡πÉ‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</li>
                        <li>‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ô‡∏µ‡∏¢‡∏ö‡∏±‡∏ï‡∏£</li>
                    </ul>
                </div>
                <div class="border-t border-slate-200 pt-4 mt-4">
                    <h3 class="text-lg font-bold text-blue-700 mb-2">8. ‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏≠‡∏∑‡πà‡∏ô ‡πÜ</h3>
                    <ul class="list-disc list-inside space-y-1">
                        <li>‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô‡∏ñ‡∏∑‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</li>
                        <li>‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏è‡∏¥‡∏ö‡∏±‡∏ï‡∏¥‡∏ï‡∏≤‡∏°‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡∏ó‡∏∏‡∏Å‡∏Ç‡πâ‡∏≠‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏Ñ‡∏£‡πà‡∏á‡∏Ñ‡∏£‡∏±‡∏î</li>
                    </ul>
                </div>
            </div>
        `;

        // Function to show the rules in a pop-up
        showRulesBtn.addEventListener('click', () => {
            Swal.fire({
                title: '‡∏Å‡∏é‡∏Å‡∏ï‡∏¥‡∏Å‡∏≤‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô',
                html: rulesContent,
                width: '90%',
                showCloseButton: true,
                focusConfirm: false,
                confirmButtonText: '‡∏õ‡∏¥‡∏î',
                customClass: {
                    container: 'my-swal'
                }
            });
        });

        // Function to show a preview of the uploaded image
        imageInput.addEventListener('change', (event) => {
            const file = event.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    imagePreview.src = e.target.result;
                    imagePreviewContainer.classList.remove('hidden');
                };
                reader.readAsDataURL(file);
            } else {
                imagePreviewContainer.classList.add('hidden');
                imagePreview.src = '#';
            }
        });

        form.addEventListener('submit', function(event) {
            event.preventDefault();

            // Disable button to prevent multiple submissions
            submitBtn.disabled = true;
            submitBtn.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å...';
            
            Swal.fire({
                title: '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...',
                allowOutsideClick: false,
                didOpen: () => {
                    Swal.showLoading();
                }
            });

            const formData = new FormData(form);
            const file = formData.get('imageProof');
            const reader = new FileReader();
            reader.onloadend = () => {
                const formObject = {
                    team: formData.get('teamName'),
                    name: formData.get('fullName'),
                    date: formData.get('runningDate'),
                    distance: formData.get('distance'),
                    note: formData.get('notes'),
                    fileData: reader.result,
                    fileName: file.name
                };
                
                // Pass the form object to Google Apps Script
                google.script.run
                    .withSuccessHandler(onSuccess)
                    .withFailureHandler(onFailure)
                    .saveData(formObject);
            };
            reader.readAsDataURL(file);
        });

        function onSuccess(response) {
            submitBtn.disabled = false;
            submitBtn.textContent = '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏ß‡∏¥‡πà‡∏á';
            form.reset();
            imagePreviewContainer.classList.add('hidden');
            if (response.status === "success") {
                let message = response.message;
                if (response.top10) {
                    message += " ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏õ‡πá‡∏ô 1 ‡πÉ‡∏ô 10 ‡∏Ñ‡∏ô‡πÅ‡∏£‡∏Å‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•!";
                }
                Swal.fire({
                    icon: 'success',
                    title: '‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!',
                    text: message,
                    confirmButtonText: '‡∏ï‡∏Å‡∏•‡∏á'
                });
            } else {
                Swal.fire({
                    icon: 'error',
                    title: '‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î!',
                    text: response.message,
                    confirmButtonText: '‡∏ï‡∏Å‡∏•‡∏á'
                });
            }
        }

        function onFailure(error) {
            submitBtn.disabled = false;
            submitBtn.textContent = '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏ß‡∏¥‡πà‡∏á';
            Swal.fire({
                icon: 'error',
                title: '‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î!',
                text: error.message,
                confirmButtonText: '‡∏ï‡∏Å‡∏•‡∏á'
            });
        }
    </script>
</body>
</html>
